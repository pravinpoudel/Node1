"use strict";var express=require("express"),path=require("path"),http=require("http"),cors=require("cors"),thing=require("./routes/things"),app=express();app.use(express.json());var router=express.Router();app.use("/things",thing),app.set("views",path.join(__dirname,"views")),app.set("view engine","pug");var _require=require("./middle"),sup=_require.sup,sup2=_require.sup2,port=process.env.port||3e3,acceptedOrigin=["http://www.example1.com","http://www.example2.com"],corsOption={origin:function(e,r){var i;r(-1===acceptedOrigin.indexOf(e)&&e?(i={origin:!1},new Error("this origin isnot allowded")):(i={origin:!0},null),i)}};app.use(router),router.get("/",cors(corsOption),sup,sup2,function(e,r){r.render("index"),end(),console.log(e.url),console.log("root url is called"),r.sendFile("index.html",{root:path.join(__dirname,"/public/")})}),router.get("/old",function(e,r){r.redirect(302,"/new")}),router.get("/new",function(e,r){r.send("<h1> I AM NEW </h1>")}),app.use(express.static("public",{index:!1})),app.listen(port,function(e){if(e)return console.log("i am listening");console.log("listening to the port ".concat(port))});
//# sourceMappingURL=index.min.js.map
