"use strict";var express=require("express"),bcrypt=require("bcrypt"),router=express.Router(),saltRound=13,authMiddleware=function(a,e,t){console.log("authenticiation is called"),t()};router.use(authMiddleware),router.get("/",function(a,e){console.log("i am inside root of this router-thing")}),router.post("/register",function(e,t){var o;return regeneratorRuntime.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,console.log("i am herer"),console.log(e.body.data),a.t0=Date.now(),a.t1=e.body.data.name,a.t2=e.body.data.email,a.next=8,regeneratorRuntime.awrap(bcrypt.hash(e.body.data.password,saltRound));case 8:return a.t3=a.sent,a.t4=e.body.data.age,a.t5=e.body.data.role,o={_id:a.t0,name:a.t1,email:a.t2,password:a.t3,age:a.t4,role:a.t5},a.next=14,regeneratorRuntime.awrap(t.status(201).send(o));case 14:a.next=19;break;case 16:a.prev=16,a.t6=a.catch(0),console.log("".concat(a.t6," error happened"));case 19:case"end":return a.stop()}},null,null,[[0,16]])}),router.post("/login",function(e,t){var o,r,s;return regeneratorRuntime.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,!0,o=e.body.data.password,a.next=6,regeneratorRuntime.awrap(bcrypt.hash("Pulchowk@123",saltRound));case 6:r=a.sent,bcrypt.compare(o,r)?(console.log(" party !! do login"),t.status(200).send({status:200,message:"guest is our user"})):(console.log("sorry we dont recognize you"),t.status(401).send({status:401,error:"Password didn't matched"})),a.next=14;break;case 11:s="$2B$".concat(saltRound,"passwordisaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"),bcrypt.compare(submittedPassword,s),t.status(401).send({status:401,error:"your credential doesnot match with ours"});case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(0),console.log("".concat(a.t0," is catched"));case 19:case"end":return a.stop()}},null,null,[[0,16]])}),router.route("/mouse").get(function(a,e){console.log("get all mouse")}).put(function(a,e){console.log("add new mouse")}),router.route("/mouse/:mouseid").get(function(a,e){console.log("i demand the mouse with id ".concat(a.params.mouseid))}).put(function(a,e){return[console.log("i demand to update the mouse with id of ".concat(a.params.mouseid))]}),module.exports=router;
//# sourceMappingURL=things.min.js.map
